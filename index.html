<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LABORANT.AI2 ¬∑ PHYSICS LIVE</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{width:100%;height:100%;background:#000;color:#ffd166;font-family:"Courier New",monospace;overflow:hidden;}
canvas{position:fixed;inset:0;z-index:0;}
.container{position:relative;z-index:2;height:100vh;display:grid;grid-template-columns:360px 1fr;grid-template-rows:60px 1fr;gap:20px;padding:20px;}
.header{grid-column:1/-1;display:flex;justify-content:space-between;align-items:center;}
.title{font-size:20px;letter-spacing:3px;text-shadow:0 0 20px rgba(255,209,102,.8);}
.status-bar{display:flex;gap:20px;font-size:11px;opacity:.7;}
.dot{width:6px;height:6px;background:#ffd166;border-radius:50%;display:inline-block;margin-right:5px;animation:pulse 1.5s infinite;}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.3;}}
.left-panel{display:flex;flex-direction:column;gap:30px;}
.robot{width:220px;height:220px;position:relative;margin:auto;}
.head{width:130px;height:130px;border:2px solid #ffd166;border-radius:20px;position:absolute;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,rgba(255,209,102,.25),rgba(255,209,102,.05));box-shadow:0 0 35px rgba(255,209,102,.5);animation:float 3s ease-in-out infinite;}
@keyframes float{0%,100%{transform:translate(-50%,0)}50%{transform:translate(-50%,-12px)}}
.eye{width:26px;height:26px;background:#ffd166;border-radius:50%;position:absolute;top:36px;box-shadow:0 0 20px #ffd166;}
.eye.l{left:28px}.eye.r{right:28px}
.mouth{width:60px;height:3px;background:#ffd166;position:absolute;bottom:30px;left:50%;transform:translateX(-50%);}
.body{width:110px;height:80px;border:2px solid #ffd166;border-radius:12px;position:absolute;bottom:0;left:50%;transform:translateX(-50%);background:rgba(255,209,102,.12);box-shadow:0 0 25px rgba(255,209,102,.4);}
.robot-name{text-align:center;letter-spacing:2px;margin-top:10px;}
.robot-title{text-align:center;font-size:11px;opacity:.6;}
.data{font-size:11px;display:flex;flex-direction:column;gap:8px;}
.row{display:flex;justify-content:space-between;}
.chat{display:flex;flex-direction:column;}
.chat-title{text-align:center;margin-bottom:10px;opacity:.7;}
.messages{flex:1;overflow-y:auto;padding-right:10px;}
.msg{margin-bottom:14px;animation:fade .3s;}
@keyframes fade{from{opacity:0;transform:translateY(6px)}to{opacity:1}}
.user{text-align:right;color:#ffe8a3}
.bot{color:#ffd166}
.input-box{display:flex;gap:10px;}
input{flex:1;background:rgba(40,30,0,.4);border:1px solid rgba(255,209,102,.4);color:#ffd166;padding:10px;}
button{background:rgba(255,209,102,.15);border:1px solid #ffd166;color:#ffd166;padding:10px 18px;cursor:pointer;}
.chart-container{width:100%;height:150px;background:rgba(0,0,0,.3);border:1px solid #ffd166;padding:5px;overflow:hidden;}
</style>
</head>

<body>
<canvas id="bg"></canvas>

<div class="container">

<div class="header">
  <div class="title">LABORANT.AI2 ¬∑ PHYSICS LIVE</div>
  <div class="status-bar">
    <span><span class="dot"></span>ONLINE</span>
    <span id="time"></span>
    <span id="state">PHYSICS: OK</span>
  </div>
</div>

<div class="left-panel">
  <div>
    <div class="robot">
      <div class="head">
        <div class="eye l"></div>
        <div class="eye r"></div>
        <div class="mouth"></div>
      </div>
      <div class="body"></div>
    </div>
    <div class="robot-name">LABORANT.AI2</div>
    <div class="robot-title">physics analyst v3.0</div>
  </div>

  <div class="data" id="physData">
    <div class="row"><span>photon flux</span><span>‚Äî</span></div>
    <div class="row"><span>field strength</span><span>‚Äî</span></div>
    <div class="row"><span>entropy drift</span><span>‚Äî</span></div>
    <div class="row"><span>temperature</span><span>‚Äî</span></div>
    <div class="row"><span>energy</span><span>‚Äî</span></div>
  </div>

  <div class="chart-container" id="chart"></div>
</div>

<div class="chat">
  <div class="chat-title">üí¨ –§–Ü–ó–ò–ß–ù–ê –ö–û–ù–°–£–õ–¨–¢–ê–¶–Ü–Ø</div>
  <div class="messages" id="msgs">
    <div class="msg bot">
      –í—ñ—Ç–∞—é. –Ø LABORANT.AI2 ‚Äî —Ñ—ñ–∑–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ—Ç–∏–∫.<br>
      –ú–æ–∂—É –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å–≤—ñ—Ç–ª–æ, –ø–æ–ª–µ, –µ–Ω—Ç—Ä–æ–ø—ñ—é, –µ–Ω–µ—Ä–≥—ñ—é —Ç–∞ —Ö–≤–∏–ª—ñ.<br><br>
      –ó–∞–ø–∏—Ç–∞–π—Ç–µ –ø—Ä–æ: <br>
      ‚Ä¢ —Å–≤—ñ—Ç–ª–æ<br>
      ‚Ä¢ –ø–æ–ª–µ<br>
      ‚Ä¢ –µ–Ω—Ç—Ä–æ–ø—ñ—è<br>
      ‚Ä¢ —Ö–≤–∏–ª—ñ<br>
      ‚Ä¢ –µ–Ω–µ—Ä–≥—ñ—é<br>
      ‚Ä¢ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É
    </div>
  </div>

  <div class="input-box">
    <input id="q" placeholder="–ø–∏—Ç–∞–Ω–Ω—è –ø–æ —Ñ—ñ–∑–∏—Ü—ñ‚Ä¶">
    <button onclick="ask()">‚Üí</button>
  </div>
</div>

</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
/* ===== BACKGROUND ===== */
const c=document.getElementById("bg"),x=c.getContext("2d");
let W,H,p=[];
function rs(){W=c.width=innerWidth;H=c.height=innerHeight;p=Array.from({length:120},()=>({x:Math.random()*W,y:Math.random()*H,z:Math.random()*W}));}
rs();addEventListener("resize",rs);
function draw(){x.fillStyle="#000";x.fillRect(0,0,W,H);x.fillStyle="#ffd166";p.forEach(s=>{s.z-=0.4;if(s.z<1)s.z=W;const k=120/s.z;const X=(s.x-W/2)*k+W/2;const Y=(s.y-H/2)*k+H/2;if(X>0&&Y>0&&X<W&&Y<H)x.fillRect(X,Y,1.5,1.5);});requestAnimationFrame(draw);}
draw();

/* ===== TIME ===== */
setInterval(()=>time.textContent=new Date().toLocaleTimeString("uk-UA"),1000);

/* ===== HISTORY ===== */
let history={photon:[],field:[],entropy:[],temperature:[],energy:[]};

/* ===== NASA / CERN API SETTINGS ===== */
const NASA_API_KEY="DEMO_KEY"; // –∑–∞–º—ñ–Ω–∏ –Ω–∞ —Å–≤—ñ–π –∫–ª—é—á
async function fetchSolarFlare(){
    try{
        const res=await fetch(`https://api.nasa.gov/DONKI/FLR?startDate=2026-01-25&endDate=2026-01-26&api_key=${NASA_API_KEY}`);
        const data=await res.json();
        if(data.length) return data[0]; // –æ—Å—Ç–∞–Ω–Ω—ñ–π —Ñ–ª–∞—Ä
        return {};
    }catch(e){return {};}
}
async function fetchCERN(){
    try{
        const res=await fetch("https://opendata.cern.ch/api/records/1.0/search/?dataset=lhc-open-data&rows=1"); // –ø—Ä–∏–∫–ª–∞–¥
        const data=await res.json();
        if(data.records?.length) return {particleEnergy:data.records[0].fields.energy || 0, collisions:data.records[0].fields.collisions || 0};
        return {particleEnergy:0,collisions:0};
    }catch(e){return {particleEnergy:0,collisions:0};}
}

/* ===== PHYSICS MODEL (LIVE + SIMULATION) ===== */
async function physicsAPI(){
    const sim={photon:(Math.random()*800+200).toFixed(0),
               field:(Math.random()*50).toFixed(2),
               entropy:(Math.random()*1.5).toFixed(3),
               temperature:(Math.random()*300+200).toFixed(1),
               energy:(Math.random()*1000+100).toFixed(2)};
    const solar=await fetchSolarFlare();
    const cern=await fetchCERN();
    const combined={
        photon: solar.energy?.toFixed(0) || sim.photon,
        field: sim.field,
        entropy: sim.entropy,
        temperature: sim.temperature,
        energy: cern.particleEnergy?.toFixed(0) || sim.energy
    };
    // –∑–±–µ—Ä—ñ–≥–∞—î–º–æ —ñ—Å—Ç–æ—Ä—ñ—é
    Object.keys(history).forEach(k=>{
        history[k].push(combined[k]);
        if(history[k].length>20) history[k].shift();
    });
    return combined;
}

/* ===== UPDATE PANEL & CHART ===== */
const ctx=document.createElement("canvas");chart.appendChild(ctx);
const cjs=new Chart(ctx,{type:'line',data:{labels:Array(20).fill(''),datasets:[
    {label:'Photon',borderColor:'#ffd166',data:[],fill:false},
    {label:'Field',borderColor:'#ff6d00',data:[],fill:false},
    {label:'Entropy',borderColor:'#06d6a0',data:[],fill:false}
]},options:{responsive:true,animation:false,plugins:{legend:{display:true}}}});

async function updatePhysics(){
    const d=await physicsAPI();
    physData.innerHTML=`
      <div class="row"><span>photon flux</span><span>${d.photon}</span></div>
      <div class="row"><span>field strength</span><span>${d.field}</span></div>
      <div class="row"><span>entropy drift</span><span>${d.entropy}</span></div>
      <div class="row"><span>temperature</span><span>${d.temperature}</span></div>
      <div class="row"><span>energy</span><span>${d.energy}</span></div>
    `;
    // –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≥—Ä–∞—Ñ—ñ–∫–∞
    cjs.data.labels=history.photon.map((_,i)=>i+1);
    cjs.data.datasets[0].data=history.photon.map(Number);
    cjs.data.datasets[1].data=history.field.map(Number);
    cjs.data.datasets[2].data=history.entropy.map(Number);
    cjs.update();
}
setInterval(updatePhysics,5000);updatePhysics();

/* ===== CHAT ===== */
function ask(){const v=q.value.trim();if(!v)return;add(v,"user");q.value="";setTimeout(()=>add(answer(v),"bot"),400);}
function add(t,cl){const d=document.createElement("div");d.className="msg "+cl;d.innerHTML=t.replace(/\n/g,"<br>");msgs.appendChild(d);msgs.scrollTop=msgs.scrollHeight;}
function answer(m){
  m=m.toLowerCase();
  if(m.includes("—Å–≤—ñ—Ç–ª")) return "–°–≤—ñ—Ç–ª–æ ‚Äî —Ü–µ –ø–æ—Ç—ñ–∫ —Ñ–æ—Ç–æ–Ω—ñ–≤.\n–Ø –∞–Ω–∞–ª—ñ–∑—É—é –π–æ–≥–æ —è–∫ –µ–Ω–µ—Ä–≥—ñ—é, —Ö–≤–∏–ª—é —ñ –ø–æ–¥—ñ—é.";
  if(m.includes("–ø–æ–ª–µ")) return "–ü–æ–ª–µ ‚Äî –Ω–æ—Å—ñ–π –≤–∑–∞—î–º–æ–¥—ñ–π.\n–ï–ª–µ–∫—Ç—Ä–æ–º–∞–≥–Ω—ñ—Ç–Ω–µ, –≥—Ä–∞–≤—ñ—Ç–∞—Ü—ñ–π–Ω–µ, —Ñ–∞–∑–æ–≤–µ.";
  if(m.includes("–µ–Ω—Ç—Ä–æ–ø")) return "–ï–Ω—Ç—Ä–æ–ø—ñ—è ‚Äî –º—ñ—Ä–∞ –Ω–µ–≤–∏–∑–Ω–∞—á–µ–Ω–æ—Å—Ç—ñ.\n–á—ó —Ä—ñ—Å—Ç –ø–æ–∫–∞–∑—É—î –Ω–∞–ø—Ä—è–º —á–∞—Å—É.";
  if(m.includes("—Ö–≤–∏–ª")) return "–•–≤–∏–ª—è ‚Äî –∫–æ–ª–∏–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω—É —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞.\n–ú–æ–∂–µ –±—É—Ç–∏ —Å–≤—ñ—Ç–ª–æ–≤–æ—é –∞–±–æ –º–∞—Ç–µ—Ä—ñ–∞–ª—å–Ω–æ—é.";
  if(m.includes("–µ–Ω–µ—Ä–≥—ñ")) return "–ï–Ω–µ—Ä–≥—ñ—è ‚Äî –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Ä–æ–±–æ—Ç—É.\n–û–±—á–∏—Å–ª—é—î—Ç—å—Å—è —è–∫ –∫—ñ–Ω–µ—Ç–∏—á–Ω–∞, –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∞ —á–∏ —Ç–µ–ø–ª–æ–≤–µ –ø–æ–ª–µ.";
  if(m.includes("—Ç–µ–º–ø–µ—Ä")) return "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ ‚Äî –ø–æ–∫–∞–∑–Ω–∏–∫ —Å–µ—Ä–µ–¥–Ω—å–æ—ó –∫—ñ–Ω–µ—Ç–∏—á–Ω–æ—ó –µ–Ω–µ—Ä–≥—ñ—ó —á–∞—Å—Ç–∏–Ω–æ–∫.\n–í–∞–∂–ª–∏–≤–∞ –¥–ª—è —Ñ–∞–∑–æ–≤–∏—Ö –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤.";
  return "–Ø —Ñ—ñ–∑–∏–∫. –ó–∞–ø–∏—Ç–∞–π—Ç–µ –ø—Ä–æ —Å–≤—ñ—Ç–ª–æ, –ø–æ–ª–µ, —Ö–≤–∏–ª—é, –µ–Ω—Ç—Ä–æ–ø—ñ—é, –µ–Ω–µ—Ä–≥—ñ—é –∞–±–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É.";
}
q.addEventListener("keydown",e=>e.key==="Enter"&&ask());
</script>
</body>
</html>
