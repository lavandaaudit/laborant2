<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LABORANT.AI2 ¬∑ OPEN DATA</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{width:100%;height:100%;background:#000;color:#ffd166;font-family:"Courier New",monospace;overflow:hidden;}
canvas{position:fixed;inset:0;z-index:0;}
.container{position:relative;z-index:2;height:100vh;display:grid;grid-template-columns:360px 1fr;grid-template-rows:60px 1fr;gap:20px;padding:20px;}
.header{grid-column:1/-1;display:flex;justify-content:space-between;align-items:center;}
.title{font-size:20px;letter-spacing:3px;text-shadow:0 0 20px rgba(255,209,102,.8);}
.status-bar{display:flex;gap:20px;font-size:11px;opacity:.7;}
.dot{width:6px;height:6px;background:#ffd166;border-radius:50%;display:inline-block;margin-right:5px;animation:pulse 1.5s infinite;}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.3}}
.left-panel{display:flex;flex-direction:column;gap:30px;}
.robot{width:220px;height:220px;position:relative;margin:auto;}
.head{width:130px;height:130px;border:2px solid #ffd166;border-radius:20px;position:absolute;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,rgba(255,209,102,.25),rgba(255,209,102,.05));box-shadow:0 0 35px rgba(255,209,102,.5);animation:float 3s ease-in-out infinite;}
@keyframes float{0%,100%{transform:translate(-50%,0)}50%{transform:translate(-50%,-12px)}}
.eye{width:26px;height:26px;background:#ffd166;border-radius:50%;position:absolute;top:36px;box-shadow:0 0 20px #ffd166;}
.eye.l{left:28px}.eye.r{right:28px}
.mouth{width:60px;height:3px;background:#ffd166;position:absolute;bottom:30px;left:50%;transform:translateX(-50%);}
.body{width:110px;height:80px;border:2px solid #ffd166;border-radius:12px;position:absolute;bottom:0;left:50%;transform:translateX(-50%);background:rgba(255,209,102,.12);box-shadow:0 0 25px rgba(255,209,102,.4);}
.robot-name{text-align:center;letter-spacing:2px;margin-top:10px;}
.robot-title{text-align:center;font-size:11px;opacity:.6;}
.data{font-size:11px;display:flex;flex-direction:column;gap:8px;overflow-y:auto;height:70vh;padding-right:5px;}
.row{display:flex;justify-content:space-between;}
.chat{display:flex;flex-direction:column;}
.chat-title{text-align:center;margin-bottom:10px;opacity:.7;}
.messages{flex:1;overflow-y:auto;padding-right:10px;}
.msg{margin-bottom:14px;animation:fade .3s;}
@keyframes fade{from{opacity:0;transform:translateY(6px)}to{opacity:1}}
.user{text-align:right;color:#ffe8a3}
.bot{color:#ffd166}
.input-box{display:flex;gap:10px}
input{flex:1;background:rgba(40,30,0,.4);border:1px solid rgba(255,209,102,.4);color:#ffd166;padding:10px;}
button{background:rgba(255,209,102,.15);border:1px solid #ffd166;color:#ffd166;padding:10px 18px;cursor:pointer;}
</style>
</head>
<body>

<canvas id="bg"></canvas>

<div class="container">

<div class="header">
  <div class="title">LABORANT.AI2 ¬∑ OPEN DATA</div>
  <div class="status-bar">
    <span><span class="dot"></span>ONLINE</span>
    <span id="time"></span>
    <span id="state">DATA: LIVE</span>
  </div>
</div>

<div class="left-panel">
  <div>
    <div class="robot">
      <div class="head">
        <div class="eye l"></div>
        <div class="eye r"></div>
        <div class="mouth"></div>
      </div>
      <div class="body"></div>
    </div>
    <div class="robot-name">LABORANT.AI2</div>
    <div class="robot-title">open data analyst v1.0</div>
  </div>

  <div class="data" id="physData">
    <div class="row"><span>Loading live data...</span></div>
  </div>
</div>

<div class="chat">
  <div class="chat-title">üí¨ –ê–ù–ê–õ–Ü–¢–ò–ß–ù–ò–ô –ß–ê–¢</div>
  <div class="messages" id="msgs">
    <div class="msg bot">
      –ü—Ä–∏–≤—ñ—Ç! –Ø LABORANT.AI2.<br>
      –ó–±–∏—Ä–∞—é —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É—é –≤—ñ–¥–∫—Ä–∏—Ç—ñ –Ω–∞—É–∫–æ–≤—ñ –¥–∞–Ω—ñ –∑ NASA —Ç–∞ –≥–µ–æ—Ñ—ñ–∑–∏–∫–∏.<br>
      –ó–∞–ø–∏—Ç–∞–π—Ç–µ –ø—Ä–æ –∫–æ—Å–º–æ—Å, –°–æ–Ω—Ü–µ, –ø–æ–ª–µ, —Ö–≤–∏–ª—ñ –∞–±–æ —Å–µ–π—Å–º—ñ–∫—É.
    </div>
  </div>

  <div class="input-box">
    <input id="q" placeholder="–ø–∏—Ç–∞–Ω–Ω—è‚Ä¶">
    <button onclick="ask()">‚Üí</button>
  </div>
</div>

</div>

<script>
// ===== BACKGROUND =====
const c=document.getElementById("bg"),x=c.getContext("2d");
let W,H,p=[];
function rs(){W=c.width=innerWidth;H=c.height=innerHeight;p=Array.from({length:120},()=>({x:Math.random()*W,y:Math.random()*H,z:Math.random()*W}));}
rs();addEventListener("resize",rs);
function draw(){x.fillStyle="#000";x.fillRect(0,0,W,H);x.fillStyle="#ffd166";p.forEach(s=>{s.z-=0.4;if(s.z<1)s.z=W;const k=120/s.z;const X=(s.x-W/2)*k+W/2;const Y=(s.y-H/2)*k+H/2;if(X>0&&Y>0&&X<W&&Y<H)x.fillRect(X,Y,1.5,1.5);});requestAnimationFrame(draw);}
draw();

// ===== TIME =====
setInterval(()=>time.textContent=new Date().toLocaleTimeString("uk-UA"),1000);

// ===== FETCH OPEN DATA =====
async function fetchData() {
  const dataRows=[];
  try {
    // NASA APOD (CORS-friendly)
    try{
      const apod = await fetch('https://api.nasa.gov/planetary/apod?api_key=DEMO_KEY').then(r=>r.json());
      dataRows.push({label:'NASA APOD Title', value:apod.title});
      dataRows.push({label:'APOD Date', value:apod.date});
    }catch(e){dataRows.push({label:'NASA APOD', value:'ERROR'})}

    // USGS Earthquakes (CORS-friendly)
    try{
      const quakes = await fetch('https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_hour.geojson').then(r=>r.json());
      dataRows.push({label:'Earthquakes last hour', value:quakes.features.length});
      const maxMag = quakes.features.length>0 ? Math.max(...quakes.features.map(f=>f.properties.mag)) : 0;
      dataRows.push({label:'Largest Magnitude', value:maxMag});
    }catch(e){dataRows.push({label:'USGS Quakes', value:'ERROR'})}

    // Simulated physics data (safe, offline)
    for(let i=0;i<15;i++){
      dataRows.push({label:`Photon Flux ${i+1}`, value:(Math.random()*1000+100).toFixed(0)});
      dataRows.push({label:`Field Strength ${i+1}`, value:(Math.random()*50).toFixed(2)});
      dataRows.push({label:`Entropy Drift ${i+1}`, value:(Math.random()*1.5).toFixed(3)});
    }

  } catch(e){dataRows.push({label:'ERROR', value:e.message});}

  // update panel
  physData.innerHTML = '';
  dataRows.forEach(d=>{
    const div=document.createElement('div');
    div.className='row';
    div.innerHTML=`<span>${d.label}</span><span>${d.value}</span>`;
    physData.appendChild(div);
  });
}

// update every 15 seconds
fetchData();
setInterval(fetchData,15000);

// ===== CHAT =====
function ask(){
  const v=q.value.trim(); if(!v)return;
  add(v,"user"); q.value="";
  setTimeout(()=>add(answer(v),"bot"),400);
}
function add(t,cl){
  const d=document.createElement("div");
  d.className="msg "+cl;
  d.innerHTML=t.replace(/\n/g,"<br>");
  msgs.appendChild(d);
  msgs.scrollTop=msgs.scrollHeight;
}
function answer(m){
  m=m.toLowerCase();
  if(m.includes("—Å–æ–Ω—Ü")||m.includes("solar")) return "–°–æ–Ω—Ü–µ –≥–µ–Ω–µ—Ä—É—î —Ñ–æ—Ç–æ–Ω–Ω–∏–π –ø–æ—Ç—ñ–∫ —Ç–∞ —Å–ø–∞–ª–∞—Ö–∏. –Ø –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é –¥–∞–Ω—ñ NASA Solar Flare (–º–æ–∂–ª–∏–≤–æ —á–µ—Ä–µ–∑ DEMO_KEY).";
  if(m.includes("–∫–æ—Å–º–æ—Å")||m.includes("apod")) return "–Ø –º–æ–∂—É –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ —â–æ–¥–µ–Ω–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–æ—Å–º–æ—Å—É NASA APOD —Ç–∞ –Ω–∞–∑–≤—É –¥–Ω—è.";
  if(m.includes("–∑–µ–º–ª")||m.includes("quake")) return "–Ø –≤—ñ–¥—Å—Ç–µ–∂—É—é –∑–µ–º–ª–µ—Ç—Ä—É—Å–∏ USGS —ñ –ø–æ–∫–∞–∑—É—é –Ω–∞–π–±—ñ–ª—å—à—ñ –º–∞–≥–Ω—ñ—Ç—É–¥–∏ —Ç–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–¥—ñ–π –∑–∞ –≥–æ–¥–∏–Ω—É.";
  if(m.includes("–µ–Ω–µ—Ä–≥")||m.includes("—á–∞—Å—Ç–∏–Ω")) return "–Ø –≥–µ–Ω–µ—Ä—É—é –ø—Ä–∏–±–ª–∏–∑–Ω—ñ –¥–∞–Ω—ñ —á–∞—Å—Ç–∏–Ω–æ–∫, —Ñ–æ—Ç–æ–Ω–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É, –ø–æ–ª—è —Ç–∞ –µ–Ω—Ç—Ä–æ–ø—ñ—ó –¥–ª—è —Å–∏–º—É–ª—è—Ü—ñ–π.";
  return "–Ø LABORANT.AI2. –ó–∞–ø–∏—Ç–∞–π—Ç–µ –ø—Ä–æ –∫–æ—Å–º–æ—Å, –°–æ–Ω—Ü–µ, –ø–æ–ª–µ, —Ö–≤–∏–ª—ñ –∞–±–æ —Å–µ–π—Å–º—ñ–∫—É.";
}
q.addEventListener("keydown",e=>e.key==="Enter"&&ask());
</script>

</body>
</html>
