<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LABORANT.AI2 ¬∑ IBONARIUM</title>

<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  html, body {
    width:100%; height:100%;
    background:#000; color:#ffd166;
    font-family:"Courier New",monospace;
    overflow:hidden;
  }
  canvas { position:fixed; inset:0; z-index:0; }

  .container {
    position:relative; z-index:2;
    height:100vh;
    padding:12px;
    display:grid;
    gap:12px;
  }

  @media (min-width: 768px) {
    .container {
      grid-template-columns: 300px 1fr;
      grid-template-rows: 50px 1fr;
      padding:20px;
      gap:20px;
    }
  }

  .header {
    grid-column: 1 / -1;
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-size:16px;
  }

  .title { font-size:18px; letter-spacing:3px; text-shadow:0 0 20px rgba(255,209,102,.8); }

  .status-bar {
    display:flex;
    gap:12px;
    font-size:11px;
    opacity:.8;
  }

  .dot {
    width:7px; height:7px;
    background:#ffd166; border-radius:50%;
    display:inline-block; margin-right:5px;
    animation:pulse 1.8s infinite;
  }
  @keyframes pulse { 0%,100% {opacity:1} 50% {opacity:.4} }

  .left-panel {
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:20px;
  }

  .robot {
    width:180px; height:180px;
    position:relative;
  }
  .head {
    width:110px; height:110px;
    border:2px solid #ffd166; border-radius:16px;
    position:absolute; left:50%; top:0;
    transform:translateX(-50%);
    background:linear-gradient(135deg,rgba(255,209,102,.3),rgba(255,209,102,.08));
    box-shadow:0 0 30px rgba(255,209,102,.5);
    animation:float 3.5s ease-in-out infinite;
  }
  @keyframes float { 0%,100% {transform:translate(-50%,0)} 50% {transform:translate(-50%,-10px)} }

  .eye {
    width:22px; height:22px;
    background:#ffd166; border-radius:50%;
    position:absolute; top:28px;
    box-shadow:0 0 18px #ffd166;
  }
  .eye.l { left:20px; }
  .eye.r { right:20px; }

  .mouth {
    width:50px; height:3px;
    background:#ffd166;
    position:absolute; bottom:22px; left:50%;
    transform:translateX(-50%);
  }

  .body {
    width:90px; height:70px;
    border:2px solid #ffd166; border-radius:10px;
    position:absolute; bottom:0; left:50%;
    transform:translateX(-50%);
    background:rgba(255,209,102,.15);
    box-shadow:0 0 20px rgba(255,209,102,.4);
  }

  .robot-name { text-align:center; letter-spacing:1.5px; margin-top:8px; }
  .robot-title { font-size:10px; opacity:.6; text-align:center; }

  .chat {
    display:flex; flex-direction:column;
    height:100%;
  }

  .chat-title {
    text-align:center;
    margin-bottom:8px;
    opacity:.8;
    font-size:14px;
  }

  .messages {
    flex:1;
    overflow-y:auto;
    padding:0 8px 8px;
    scrollbar-width:thin;
    scrollbar-color:#ffd166 #222;
  }
  .messages::-webkit-scrollbar { width:6px; }
  .messages::-webkit-scrollbar-track { background:#111; }
  .messages::-webkit-scrollbar-thumb { background:#ffd166; border-radius:3px; }

  .msg {
    margin:8px 0;
    line-height:1.4;
    animation:fadeIn 0.4s;
  }
  @keyframes fadeIn { from {opacity:0; transform:translateY(8px)} to {opacity:1} }

  .user { text-align:right; color:#ffe8a3; }
  .bot   { color:#ffd166; }

  .input-area {
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    padding-top:8px;
    border-top:1px solid rgba(255,209,102,.3);
  }

  input {
    flex:1;
    min-width:140px;
    background:rgba(40,30,0,.5);
    border:1px solid rgba(255,209,102,.4);
    color:#ffd166;
    padding:10px;
    font-family:inherit;
  }

  button {
    background:rgba(255,209,102,.2);
    border:1px solid #ffd166;
    color:#ffd166;
    padding:10px 16px;
    cursor:pointer;
    font-family:inherit;
    transition:background .2s;
  }
  button:hover { background:rgba(255,209,102,.35); }

  .quick-buttons {
    display:flex;
    gap:8px;
    flex-wrap:wrap;
    justify-content:center;
    margin-top:8px;
  }

  .quick-buttons button {
    min-width:80px;
    flex:1 1 auto;
  }

  @media (max-width: 767px) {
    .container { grid-template-columns:1fr; grid-template-rows:auto 1fr; }
    .left-panel { flex-direction:row; justify-content:center; gap:20px; flex-wrap:wrap; }
    .robot { width:140px; height:140px; }
    .head { width:90px; height:90px; }
    .eye { width:18px; height:18px; top:20px; }
    .eye.l { left:16px; } .eye.r { right:16px; }
    .mouth { width:40px; bottom:16px; }
    .body { width:70px; height:55px; }
  }
</style>
</head>
<body>

<canvas id="bg"></canvas>

<div class="container">
  <div class="header">
    <div class="title">LABORANT.AI2 ¬∑ IBONARIUM</div>
    <div class="status-bar">
      <span><span class="dot"></span>ONLINE</span>
      <span id="time"></span>
      <span id="state">–ó–ê–í–ê–ù–¢–ê–ñ–ï–ù–ù–Ø...</span>
    </div>
  </div>

  <div class="left-panel">
    <div>
      <div class="robot">
        <div class="head">
          <div class="eye l"></div>
          <div class="eye r"></div>
          <div class="mouth"></div>
        </div>
        <div class="body"></div>
      </div>
      <div class="robot-name">LABORANT.AI2</div>
      <div class="robot-title">ibonarium fragmentor v2.4 ¬∑ TXT</div>
    </div>
  </div>

  <div class="chat">
    <div class="chat-title">üí¨ –Ü–ë–û–ù–ê–†–Ü–£–ú ‚Äî –£–†–ò–í–ö–ò</div>

    <div class="messages" id="msgs">
      <div class="msg bot">
        –≤—ñ—Ç–∞—é, –†–æ–º–∞–Ω–µ.<br>
        –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é tet.txt...<br>
        –∑–∞—á–µ–∫–∞–π —Å–µ–∫—É–Ω–¥—É-–¥–≤—ñ
      </div>
    </div>

    <div class="input-area">
      <input id="q" placeholder="—Ä–æ–∑–∫–∞–∂–∏ / —â–µ / –∫–∏–Ω—å / —ñ–±–æ–Ω–∞—Ä—ñ—É–º" autocomplete="off">
      <button onclick="ask()">‚Üí</button>
    </div>

    <div class="quick-buttons">
      <button onclick="quickAsk('—Ä–æ–∑–∫–∞–∂–∏')">—Ä–æ–∑–∫–∞–∂–∏</button>
      <button onclick="quickAsk('—Ü—ñ–∫–∞–≤–æ')">—Ü—ñ–∫–∞–≤–æ</button>
      <button onclick="quickAsk('—â–µ')">—â–µ</button>
    </div>
  </div>
</div>

<script>
// –§–û–ù
const c = document.getElementById("bg"), ctx = c.getContext("2d");
let W, H, particles = [];
function resize(){W=c.width=innerWidth;H=c.height=innerHeight;particles=Array.from({length:140},()=> ({x:Math.random()*W,y:Math.random()*H,z:Math.random()*W+1}));}
resize();addEventListener("resize",resize);
function drawBg(){ctx.fillStyle="#000";ctx.fillRect(0,0,W,H);ctx.fillStyle="#ffd166";particles.forEach(p=>{p.z-=0.6;if(p.z<1)p.z=W;const k=140/p.z;const x=(p.x-W/2)*k+W/2;const y=(p.y-H/2)*k+H/2;if(x>0&&y>0&&x<W&&y<H)ctx.fillRect(x,y,1.6,1.6);});requestAnimationFrame(drawBg);}
drawBg();

// –ß–ê–°
setInterval(()=>document.getElementById("time").textContent=new Date().toLocaleTimeString("uk-UA"),1000);

let fragments = [];

async function loadTxt() {
  const url = "https://raw.githubusercontent.com/lavandaaudit/laborant2/main/tet.txt";

  add("–ó–∞–≤–∞–Ω—Ç–∞–∂—É—é tet.txt...", "bot");

  try {
    const res = await fetch(url);
    if (!res.ok) throw new Error(`HTTP ${res.status}`);
    const text = await res.text();

    add(`–û—Ç—Ä–∏–º–∞–Ω–æ ${ (text.length / 1024).toFixed(1) } KB`, "bot");

    fragments = text.split(/\n{3,}/)
      .map(s => s.trim())
      .filter(s => s.length > 60);

    if (fragments.length === 0) {
      add("–£—Ä–∏–≤–∫—ñ–≤ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ. –ú–æ–∂–ª–∏–≤–æ, —Ç–µ–∫—Å—Ç –±–µ–∑ —Ä–æ–∑–¥—ñ–ª—ñ–≤.", "bot");
      document.getElementById("state").textContent = "–ù–ï–ú–ê–Ñ –£–†–ò–í–ö–Ü–í";
    } else {
      document.getElementById("state").textContent = `${fragments.length} —É—Ä–∏–≤–∫—ñ–≤`;
      add(`–ì–æ—Ç–æ–≤–æ! ${fragments.length} —É—Ä–∏–≤–∫—ñ–≤. –ù–∞—Ç–∏—Å–∫–∞–π –∫–Ω–æ–ø–∫–∏ –∞–±–æ –ø–∏—à–∏ —Å–∞–º.`, "bot");
    }
  } catch (err) {
    add(`–ü–æ–º–∏–ª–∫–∞: ${err.message}<br><a href="${url}" target="_blank" style="color:#ffd166;">–≤—ñ–¥–∫—Ä–∏—Ç–∏ tet.txt</a>`, "bot");
    document.getElementById("state").textContent = "–ü–û–ú–ò–õ–ö–ê";
  }
}

// –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è + –∞–≤—Ç–æ—Å–∫—Ä–æ–ª
function add(text, cls = "bot") {
  const div = document.createElement("div");
  div.className = `msg ${cls}`;
  div.innerHTML = text.replace(/\n/g, "<br>");
  const msgs = document.getElementById("msgs");
  msgs.appendChild(div);
  // –ê–≤—Ç–æ—Å–∫—Ä–æ–ª –¥–æ–Ω–∏–∑—É
  msgs.scrollTop = msgs.scrollHeight;
}

// –ó–≤–∏—á–∞–π–Ω–∏–π –∑–∞–ø–∏—Ç –∑ input
function ask() {
  const input = document.getElementById("q");
  const val = input.value.trim();
  if (!val) return;
  add(val, "user");
  input.value = "";
  setTimeout(() => add(getResponse(val), "bot"), 300 + Math.random()*600);
}

// –®–≤–∏–¥–∫—ñ –∫–Ω–æ–ø–∫–∏
function quickAsk(text) {
  add(text, "user");
  setTimeout(() => add(getResponse(text), "bot"), 300 + Math.random()*600);
}

function getResponse(query) {
  const q = query.toLowerCase().trim();
  const triggers = ["—Ä–æ–∑–∫–∞–∂–∏", "—â–µ", "–∫–∏–Ω—å", "—ñ–±–æ–Ω–∞—Ä—ñ—É–º", "—É—Ä–∏–≤", "—Ñ—Ä–∞–≥–º–µ–Ω—Ç", "—ñ–±–æ", "—Ü—ñ–∫–∞–≤–æ"];

  if (triggers.some(t => q.includes(t) || q === t)) {
    if (fragments.length === 0) return "–§–∞–π–ª —â–µ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–≤—Å—è –∞–±–æ —É—Ä–∏–≤–∫—ñ–≤ –Ω–µ–º–∞—î.";
    const idx = Math.floor(Math.random() * fragments.length);
    let frag = fragments[idx];
    if (frag.length > 1300) frag = frag.slice(0,1200) + "\n‚Ä¶ (–ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –≤ –æ—Ä–∏–≥—ñ–Ω–∞–ª—ñ)";
    return frag;
  }

  return "–ü–∏—à–∏ –∞–±–æ –Ω–∞—Ç–∏—Å–∫–∞–π –∫–Ω–æ–ø–∫–∏: —Ä–æ–∑–∫–∞–∂–∏, —Ü—ñ–∫–∞–≤–æ, —â–µ, —ñ–±–æ–Ω–∞—Ä—ñ—É–º";
}

// Enter –≤ –ø–æ–ª—ñ –≤–≤–æ–¥—É
document.getElementById("q").addEventListener("keydown", e => {
  if (e.key === "Enter") ask();
});

// –ó–∞–ø—É—Å–∫
loadTxt();
</script>
</body>
</html>
